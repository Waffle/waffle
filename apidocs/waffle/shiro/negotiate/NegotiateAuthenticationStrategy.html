<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_80) on Sun Jul 12 23:21:06 EDT 2015 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>NegotiateAuthenticationStrategy (waffle-parent 1.8.0-SNAPSHOT API)</title>
<meta name="date" content="2015-07-12">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="NegotiateAuthenticationStrategy (waffle-parent 1.8.0-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/NegotiateAuthenticationStrategy.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../waffle/shiro/negotiate/NegotiateAuthenticationRealm.html" title="class in waffle.shiro.negotiate"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../waffle/shiro/negotiate/NegotiateInfo.html" title="class in waffle.shiro.negotiate"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?waffle/shiro/negotiate/NegotiateAuthenticationStrategy.html" target="_top">Frames</a></li>
<li><a href="NegotiateAuthenticationStrategy.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">waffle.shiro.negotiate</div>
<h2 title="Class NegotiateAuthenticationStrategy" class="title">Class NegotiateAuthenticationStrategy</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.shiro.authc.pam.AbstractAuthenticationStrategy</li>
<li>
<ul class="inheritance">
<li>waffle.shiro.negotiate.NegotiateAuthenticationStrategy</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>org.apache.shiro.authc.pam.AuthenticationStrategy</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">NegotiateAuthenticationStrategy</span>
extends org.apache.shiro.authc.pam.AbstractAuthenticationStrategy</pre>
<div class="block">Custom authentication strategy for the negotiate logic required for SSO/Negotiate auth realm
 <a href="../../../waffle/shiro/negotiate/NegotiateAuthenticationRealm.html" title="class in waffle.shiro.negotiate"><code>NegotiateAuthenticationRealm</code></a>. When the negotiate logic is executing, one of more round trips with the client
 occur. When the <a href="../../../waffle/shiro/negotiate/NegotiateAuthenticationRealm.html" title="class in waffle.shiro.negotiate"><code>NegotiateAuthenticationRealm</code></a> determines another handshake is needed, it throws the exception:
 <a href="../../../waffle/shiro/negotiate/AuthenticationInProgressException.html" title="class in waffle.shiro.negotiate"><code>AuthenticationInProgressException</code></a>. This custom strategy detects this exception, and immediately re-throws it
 so classes higher up in the call stack will allow the handshake to proceed. Without this added logic, the handshake
 could be halted after the first connection by the existing error handling. <br>
 <br>
 This strategy is needed when using <a href="../../../waffle/shiro/negotiate/NegotiateAuthenticationFilter.html" title="class in waffle.shiro.negotiate"><code>NegotiateAuthenticationFilter</code></a> and more than one realm is configured in
 shiro.ini. If only one realm is defined, the current error handling in
 <code>ModularRealmAuthenticator.doSingleRealmAuthentication(org.apache.shiro.realm.Realm, org.apache.shiro.authc.AuthenticationToken)</code>
 works fine without requiring this strategy. However, the current error handling in
 <code>ModularRealmAuthenticator.doMultiRealmAuthentication(java.util.Collection, org.apache.shiro.authc.AuthenticationToken)</code>
 does require the <a href="../../../waffle/shiro/negotiate/NegotiateAuthenticationStrategy.html" title="class in waffle.shiro.negotiate"><code>NegotiateAuthenticationStrategy</code></a> to ensure negotiate 'continue' calls will proceed. So for
 now, the most reliable approach is to use this strategy.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Dan Rollo Date: 3/18/13 Time: 3:31 PM</dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../waffle/shiro/negotiate/NegotiateAuthenticationStrategy.html#afterAttempt(org.apache.shiro.realm.Realm,%20org.apache.shiro.authc.AuthenticationToken,%20org.apache.shiro.authc.AuthenticationInfo,%20org.apache.shiro.authc.AuthenticationInfo,%20java.lang.Throwable)"><code>afterAttempt(org.apache.shiro.realm.Realm,
      org.apache.shiro.authc.AuthenticationToken, org.apache.shiro.authc.AuthenticationInfo,
      org.apache.shiro.authc.AuthenticationInfo, Throwable)</code></a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../waffle/shiro/negotiate/NegotiateAuthenticationStrategy.html#NegotiateAuthenticationStrategy()">NegotiateAuthenticationStrategy</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>org.apache.shiro.authc.AuthenticationInfo</code></td>
<td class="colLast"><code><strong><a href="../../../waffle/shiro/negotiate/NegotiateAuthenticationStrategy.html#afterAttempt(org.apache.shiro.realm.Realm,%20org.apache.shiro.authc.AuthenticationToken,%20org.apache.shiro.authc.AuthenticationInfo,%20org.apache.shiro.authc.AuthenticationInfo,%20java.lang.Throwable)">afterAttempt</a></strong>(org.apache.shiro.realm.Realm&nbsp;realm,
            org.apache.shiro.authc.AuthenticationToken&nbsp;token,
            org.apache.shiro.authc.AuthenticationInfo&nbsp;singleRealmInfo,
            org.apache.shiro.authc.AuthenticationInfo&nbsp;aggregateInfo,
            <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;t)</code>
<div class="block">When the negotiate logic is executing, one of more round trips with the client occur.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.apache.shiro.authc.pam.AbstractAuthenticationStrategy">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.shiro.authc.pam.AbstractAuthenticationStrategy</h3>
<code>afterAllAttempts, beforeAllAttempts, beforeAttempt, merge</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="NegotiateAuthenticationStrategy()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>NegotiateAuthenticationStrategy</h4>
<pre>public&nbsp;NegotiateAuthenticationStrategy()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="afterAttempt(org.apache.shiro.realm.Realm, org.apache.shiro.authc.AuthenticationToken, org.apache.shiro.authc.AuthenticationInfo, org.apache.shiro.authc.AuthenticationInfo, java.lang.Throwable)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>afterAttempt</h4>
<pre>public&nbsp;org.apache.shiro.authc.AuthenticationInfo&nbsp;afterAttempt(org.apache.shiro.realm.Realm&nbsp;realm,
                                                     org.apache.shiro.authc.AuthenticationToken&nbsp;token,
                                                     org.apache.shiro.authc.AuthenticationInfo&nbsp;singleRealmInfo,
                                                     org.apache.shiro.authc.AuthenticationInfo&nbsp;aggregateInfo,
                                                     <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;t)</pre>
<div class="block">When the negotiate logic is executing, one of more round trips with the client occur. When the
 <a href="../../../waffle/shiro/negotiate/NegotiateAuthenticationRealm.html" title="class in waffle.shiro.negotiate"><code>negotiate realm</code></a> determines another handshake is needed, it throws the
 exception: <a href="../../../waffle/shiro/negotiate/AuthenticationInProgressException.html" title="class in waffle.shiro.negotiate"><code>AuthenticationInProgressException</code></a>. This custom strategy detects this exception, and
 immediately re-throws it so classes higher up in the call stack will allow the handshake to proceed. Without this
 added logic, the handshake would be halted after the first connection by the existing error handling.
 
 </div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>afterAttempt</code>&nbsp;in interface&nbsp;<code>org.apache.shiro.authc.pam.AuthenticationStrategy</code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code>afterAttempt</code>&nbsp;in class&nbsp;<code>org.apache.shiro.authc.pam.AbstractAuthenticationStrategy</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/NegotiateAuthenticationStrategy.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../waffle/shiro/negotiate/NegotiateAuthenticationRealm.html" title="class in waffle.shiro.negotiate"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../waffle/shiro/negotiate/NegotiateInfo.html" title="class in waffle.shiro.negotiate"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?waffle/shiro/negotiate/NegotiateAuthenticationStrategy.html" target="_top">Frames</a></li>
<li><a href="NegotiateAuthenticationStrategy.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2010&#x2013;2015 <a href="https://github.com/dblock/">com.github.dblock</a>. All rights reserved.</small></p>
</body>
</html>
